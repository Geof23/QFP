ICC := icpc
GCC := g++

CC_OPTS ?= -O2 -g

CC_REQUIRED := -lm --std=c++11 -lstdc++ -Wno-shift-count-overflow 

ICC_REQUIRED := -gxx-name=g++-5.1

INCFILES := ../../gdb/inst

INC := -I $(INCFILES)

SRC := ../test.cpp

T1 := ../intel_O2_g
T2 := ../g++_O2_g



.phony : all

all : $(T1) $(T2)

$(T1) : $(SRC) $(INCFILES)
	$(ICC) $(CC_OPTS) $(CC_REQUIRED) $(ICC_REQUIRED) $(INC) $< -o $@

$(T2) : $(SRC) $(INCFILES)
	$(GCC) $(CC_OPTS) $(CC_REQUIRED) $(INC) $< -o $@

.phony : clean

clean :
	-rm $(CC)*
