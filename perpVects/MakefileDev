#CC := clang++
CC := g++

CPPFLAGS ?= -Wuninitialized

CPPFLAGS += -std=c++11 -lm -Wno-shift-count-overflow -MMD  -I../gdb/inst -I.

INCFILES := $(wildcard *.h)

SOURCE := $(wildcard *.cpp)
OBJ := $(SOURCE:.cpp=.o)

.phony : all

all :  test

test :	$(OBJ)
	$(CC) $(CPPFLAGS)   -o $@ $^ 

%.o : %.cpp $(INCFILES)
	$(CC) $(CPPFLAGS) -c $< -o $@

.phony : clean

clean :
	-rm *.o test *.d
