#CC := clang++
#CC := g++
CC ?= icpc
FFLAGS ?= 
TARGET ?= test

CPPFLAGS ?= -Wuninitialized -g

CPPFLAGS += -std=c++11 -lm -Wno-shift-count-overflow -MMD  -I../gdb/inst -I. \
	 $(FFLAGS)

INCFILES := $(wildcard *.h)

SOURCE := $(wildcard *.cpp)
OBJ := $(SOURCE:.cpp=.o)

.phony : all

all :  $(TARGET)

$(TARGET) : $(OBJ)
	$(CC) $(CPPFLAGS)   -o $@ $^ 

%.o : %.cpp $(INCFILES)
	$(CC) $(CPPFLAGS) -c $< -o $@

.phony : clean

clean :
	rm -f *.o test *.d
