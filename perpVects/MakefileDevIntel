CC := icpc

CC_OPTS ?= -Wuninitialized

CC_REQUIRED += --std=c++14
CC_REQUIRED += -Wno-shift-count-overflow
CC_REQUIRED += -gxx-name=g++-5.1
CC_REQUIRED += -lm
CC_REQUIRED += -lstdc++
CC_REQUIRED += -frounding-math

INCFILES := ../gdb/inst

INC := -I $(INCFILES)

.phony : all

all : intel #intel_g

intel : test.cpp $(INCFILES)
	$(CC) $(CC_OPTS) $(CC_REQUIRED) $(INC) $< -o $@

# intel_g : test.cpp $(INCFILES)
# 	$(CC) $(CC_OPTS) -g $(CC_REQUIRED) $(INC) $< -o $@

.phony : clean

clean :
	-rm $(CC)*
