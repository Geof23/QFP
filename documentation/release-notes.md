# Release Notes

[Table of Contents](README.md)
|
[Next](installation.md)

Release note versions:

- [v2.1.0](#v2.1.0) _(TODO: Date)_
- [v2.0-beta.2](#v2.0-beta.2) _(10 April 2019)_
- [v2.0-beta.1](#v2.0-beta.1) _(18 July 2018)_
- [v2.0-alpha.3](#v2.0-alpha.3) _(29 January 2018)_
- [v2.0-alpha.2](#v2.0-alpha.2) _(27 January 2018)_
- [v2.0-alpha.1](#v2.0-alpha.1) _(25 September 2017)_
- [v1.0.0](#v1.0.0) _(25 March 2017)_

## v2.1.0

_Released on TODO: Date_

FLiT is now very stable, so we can exit the beta releases.  Honestly, we kept it in the beta release not because the tool was unreliable, but rather because we were unsure if the interface would undergo breaking changes with design reworks.

The interface has stabilized.  We may do small breaks of interface in the future, but so far nothing major until FLiT 3.0.

**Highlights of Major Changes:**

- Place items from `flit::fsutil` namespace into the `flit` namespace (breaking change)
- MPI
    - Add MPICH support
    - Change MPI usage to be with a `main`-like function as subprocesses
- `flit bisect`
    - Bisect uses information from `flit-config.toml` if the given compiler matches one specified there.
    - Improve speed of the generated `Makefile`
    - Add `--compiler-type` flag
    - Add `--ldflags`, `--add-ldflags`, and `--use-linker`
- Autogenerated `Makefile`
    - Use standard GNU Makefile variable names
    - Brief colored output
    - Source files can have any suffix (instead of just `.cpp`)
    - Removed the automatic insertion of `--gcc-toolchain` and `--gxx-name` for the Clang and Intel compilers respectively -- user can now add this from `flit-config.toml` (documentation added on how to do this)
    - Experimental support for a Ninja build file instead (through `flit experimental ninja`)
    - Improve speed and responsiveness using more self-recursion
    - Faster `make clean` by deleting output directories rather than all files
    - Mitigate C++ standard library incompatibility by compiling FLiT source code into each test executable
- `flit-config.toml`
    - Add `fixed_compile_flags` and `fixed_link_flags` fields for each compiler specified in `flit-config.toml`
- Return `std::vector` of `float`, `double`, `long double`, or `std::string` from tests.  Add a comparison function for each.
- Add functions to FLiT's C++ interface (can be used in tests): `rsplit()`, `lsplit()`, `split()`, `trim()`, `rstrip()`, `lstrip()`, `strip()`, `basename()`, and `dirname()`
- Bash-completion

**All Issues Addressed:**

- [#255](https://github.com/PRUNERS/FLiT/issues/255) (PR [#260](https://github.com/PRUNERS/FLiT/pull/260)): Added `--compiler-type` flag for `flit bisect`
- [#222](https://github.com/PRUNERS/FLiT/issues/222) (PR [#264](https://github.com/PRUNERS/FLiT/pull/264)): Added MPICH support
- [#253](https://github.com/PRUNERS/FLiT/issues/253) (PR [#266](https://github.com/PRUNERS/FLiT/pull/266)): Handle different file endings for source files
- [#267](https://github.com/PRUNERS/FLiT/issues/267) (PR [#268](https://github.com/PRUNERS/FLiT/pull/268)): Makefile recursion on dry runs too
- [#269](https://github.com/PRUNERS/FLiT/issues/269) (PR [#270](https://github.com/PRUNERS/FLiT/pull/270)): Faster `make clean` by deleting destination directories.  Also, reorganize destination directories.  Add a `make dirs` target.
- [#49](https://github.com/PRUNERS/FLiT/issues/49) (PR [#271](https://github.com/PRUNERS/FLiT/pull/271)): Return `std::vector` of floating-point or of `std::string` from a test
- [#273](https://github.com/PRUNERS/FLiT/issues/273) (PR [#274](https://github.com/PRUNERS/FLiT/pull/274)): Fix `flit bisect` when calling `main` as a subprocess
- [#165](https://github.com/PRUNERS/FLiT/issues/165) (PR [#280](https://github.com/PRUNERS/FLiT/pull/280)): Fixed the SimpleCHull litmus test to not use relative paths
- [#272](https://github.com/PRUNERS/FLiT/issues/272) (PR [#275](https://github.com/PRUNERS/FLiT/pull/275)): Add ability to call a `main`-like function from your test as a subprocess, with or without MPI
- [#216](https://github.com/PRUNERS/FLiT/issues/216) (PR [#281](https://github.com/PRUNERS/FLiT/pull/281)): Use standard Makefile Variable names in autogenerated Makefiles
- [#276](https://github.com/PRUNERS/FLiT/issues/276) (PR [#282](https://github.com/PRUNERS/FLiT/pull/282)): Brief colored output from Makefiles
- [#283](https://github.com/PRUNERS/FLiT/issues/283) (PR [#284](https://github.com/PRUNERS/FLiT/pull/284)): Fix `--delete` flag behavior for `flit bisect`
- [#289](https://github.com/PRUNERS/FLiT/issues/289) (PR [#290](https://github.com/PRUNERS/FLiT/pull/290)): Fix automated test for `flit bisect` involving templates
- [#286](https://github.com/PRUNERS/FLiT/issues/286) (PR [#288](https://github.com/PRUNERS/FLiT/pull/288)): Add helper functions for `std::string` such as `flit::split()` and `flit::trim()`.  Remove `flit::fsutil` namespace
- [#292](https://github.com/PRUNERS/FLiT/issues/292) (PR [#295](https://github.com/PRUNERS/FLiT/pull/295)): Add `DESTDIR` variable to FLiT's top-level `Makefile`
- [#296](https://github.com/PRUNERS/FLiT/issues/296) (PR [#297](https://github.com/PRUNERS/FLiT/pull/297)): Fix `Makefile` color output for older systems and OSX
- [#125](https://github.com/PRUNERS/FLiT/issues/125) (PR [#301](https://github.com/PRUNERS/FLiT/pull/301)): Add `fixed_compile_flags` and `fixed_link_flags` to the `compiler` section in `flit-config.toml`
- [#302](https://github.com/PRUNERS/FLiT/issues/302) (PR [#303](https://github.com/PRUNERS/FLiT/pull/303)): Experimental support for Ninja build files instead of an autogenerated `Makefile`
- [#293](https://github.com/PRUNERS/FLiT/issues/293) (PR [#304](https://github.com/PRUNERS/FLiT/pull/304)): Improve usage and testing of `mkstemp()` and `mkdtemp()`.  Add functions `strip()`, `basename()`, and `dirname()` to FLiT
- [#307](https://github.com/PRUNERS/FLiT/issues/307) (PR [#309](https://github.com/PRUNERS/FLiT/pull/309)): Fix use of `fixed_compile_flags` and `fixed_link_flags` from `flit bisect`
- [#310](https://github.com/PRUNERS/FLiT/issues/310) (PR [#311](https://github.com/PRUNERS/FLiT/pull/311)): Significantly improve responsiveness of autogenerated `Makefile`s by using more self-recursion
- [#96](https://github.com/PRUNERS/FLiT/issues/96) (PR [#314](https://github.com/PRUNERS/FLiT/pull/314)): All flit functions in the `flit` namespace
- [#227](https://github.com/PRUNERS/FLiT/issues/227) (PR [#315](https://github.com/PRUNERS/FLiT/pull/315)): Remove hostname from generated files
- [#210](https://github.com/PRUNERS/FLiT/issues/210) (PR [#318](https://github.com/PRUNERS/FLiT/pull/318)): Mitigate C++ standard library incompatibility by compiling FLiT source code into each test executable
- [#133](https://github.com/PRUNERS/FLiT/issues/133) (PR [#322](https://github.com/PRUNERS/FLiT/pull/322)): Create a good default `compare()` method that handles `NaN` and `inf` in a way that makes sense
- [#316](https://github.com/PRUNERS/FLiT/issues/316) (PR [#324](https://github.com/PRUNERS/FLiT/pull/324)): Do not copy `Empty.cpp` when calling `flit init --litmus-tests`
- [#320](https://github.com/PRUNERS/FLiT/issues/320) (PR [#321](https://github.com/PRUNERS/FLiT/pull/321)): Update the issue template on GitHub
- [#121](https://github.com/PRUNERS/FLiT/issues/121) (PR [#319](https://github.com/PRUNERS/FLiT/pull/319)): Implement bash-completion for FLiT
- [#308](https://github.com/PRUNERS/FLiT/issues/308) (PR [#325](https://github.com/PRUNERS/FLiT/pull/325)): Add `--ldflags`, `--add-ldflags`, and `--use-linker` to `flit bisect`


## v2.0-beta.2

_Released on 10 April 2019_

**Highlights of Major Changes:**

- TravisCI continuous integration fixed and working
- `flit bisect`
    - outputs results incrementally.
    - optimizations, such as memoizing and search space reduction
    - order findings by the magnitude of variability
    - add flags `--compile-only` and `--precompile-fpic`
    - additional bisect assertion for finding disjoint sets
    - add dependency of `pyelftools`
- Users specify the FLiT search space in `flit-config.toml` instead of being hard-coded
- `flit import`: add `--dbfile` flag to create an import database without a `flit-config.toml` file
- Remove `hosts` section from `flit-config.toml`
- Many bug fixes

**All Issues Addressed:**

- [#174](https://github.com/PRUNERS/FLiT/issues/174) (PR [#179](https://github.com/PRUNERS/FLiT/pull/179)): Have bisect output results incrementally
- [#175](https://github.com/PRUNERS/FLiT/issues/175) (PR [#181](https://github.com/PRUNERS/FLiT/pull/181)): Have function passed to `bisect_search` only take one argument
- [#182](https://github.com/PRUNERS/FLiT/issues/182) (PR [#185](https://github.com/PRUNERS/FLiT/pull/185), [#186](https://github.com/PRUNERS/FLiT/pull/186), [#187](https://github.com/PRUNERS/FLiT/pull/187)): Fix TravisCI continuous integration
- [#180](https://github.com/PRUNERS/FLiT/issues/180) (PR [#190](https://github.com/PRUNERS/FLiT/pull/190)): Memoize the bisect test function
- [#143](https://github.com/PRUNERS/FLiT/issues/143) (PR [#195](https://github.com/PRUNERS/FLiT/pull/195)): Fix NaN return values from litmus tests
- [#172](https://github.com/PRUNERS/FLiT/issues/172) (PR [#197](https://github.com/PRUNERS/FLiT/pull/197)): Order bisect findings by magnitude of variability
- [#200](https://github.com/PRUNERS/FLiT/issues/200) (PR [#201](https://github.com/PRUNERS/FLiT/pull/201)): Fix CSV file parsing
- [#120](https://github.com/PRUNERS/FLiT/issues/120) (PR [#206](https://github.com/PRUNERS/FLiT/pull/206)): Allow user-provided compilers in `flit-config.toml`
- (PR [#209](https://github.com/PRUNERS/FLiT/pull/209)): Add `--compile-only` and `--precompile-fpic` to `flit bisect`
- [#211](https://github.com/PRUNERS/FLiT/issues/211) (PR [#215](https://github.com/PRUNERS/FLiT/pull/215), [#223](https://github.com/PRUNERS/FLiT/pull/223)): Add `--dbfile` to `flit import` to import without a `flit-config.toml` file
- [#220](https://github.com/PRUNERS/FLiT/issues/220) (PR [#221](https://github.com/PRUNERS/FLiT/pull/221)): Have the test harness delete temporary directories even when exceptions are thrown
- [#217](https://github.com/PRUNERS/FLiT/issues/217) (PR [#219](https://github.com/PRUNERS/FLiT/pull/219)): Create a template for issues and pull requests (a GitHub-specific update)
- [#212](https://github.com/PRUNERS/FLiT/issues/212) (PR [#213](https://github.com/PRUNERS/FLiT/pull/213)): For bisect, if the Makefile errors out, print out the Makefile output for debugging
- [#225](https://github.com/PRUNERS/FLiT/issues/225) (PR [#226](https://github.com/PRUNERS/FLiT/pull/226)): For bisect, add assertion for finding disjoint sets (cannot continue if they overlap)
- [#230](https://github.com/PRUNERS/FLiT/issues/230) (PR [#232](https://github.com/PRUNERS/FLiT/pull/232)): Fix compilation if header files go missing
- [#229](https://github.com/PRUNERS/FLiT/issues/229) (PR [#231](https://github.com/PRUNERS/FLiT/pull/231)): Fix bisect deadlock where multiple updates to `ground-truth.csv` were attempted
- [#194](https://github.com/PRUNERS/FLiT/issues/194) (PR [#236](https://github.com/PRUNERS/FLiT/pull/236)): Fix the slow bisect search due to an explosion of templated function definitions
- [#238](https://github.com/PRUNERS/FLiT/issues/238) (PR [#241](https://github.com/PRUNERS/FLiT/pull/241)): Fix bisect search space problems.  Specifically, only search over strong and publicly exported function symbols.  This pull request added the dependency of `pyelftools`.
- [#233](https://github.com/PRUNERS/FLiT/issues/233) (PR [#243](https://github.com/PRUNERS/FLiT/pull/243)): Update the required version of `binutils` in the documentation
- [#239](https://github.com/PRUNERS/FLiT/issues/239) (PR [#242](https://github.com/PRUNERS/FLiT/pull/242)): Fix support for older versions of the Clang compiler (version 4)
- [#244](https://github.com/PRUNERS/FLiT/issues/244) (PR [#246](https://github.com/PRUNERS/FLiT/pull/246)); Remove the `hosts` section from `flit-config.toml`.  It was not used.
- [#249](https://github.com/PRUNERS/FLiT/issues/249) (PR [#250](https://github.com/PRUNERS/FLiT/pull/250)): Update documentation about how FLiT handles MPI tests.  Specifically how the test return values are handled.
- [#119](https://github.com/PRUNERS/FLiT/issues/119) (PR [#251](https://github.com/PRUNERS/FLiT/pull/251)): Allow the user to specify the list of optimization levels and flags in `flit-config.toml` for the FLiT search space.  No longer hard-coded.
- [#256](https://github.com/PRUNERS/FLiT/issues/256) (PR [#258](https://github.com/PRUNERS/FLiT/pull/258)): Fix bisect crash when an object file has an empty dwarf info
- [#257](https://github.com/PRUNERS/FLiT/issues/257) (PR [#259](https://github.com/PRUNERS/FLiT/pull/259)): Fix bisect crash when an object file has no dwarf info section


## v2.0-beta.1

_Released on 18 July 2018_

Since FLiT has been stable in the alpha phase for some time and some other things have stabilized more (such as documentation and interface), we are happy to announce the move to beta status.

In this release, we have included the following pull requests:

[#115](https://github.com/PRUNERS/FLiT/pull/115), [#116](https://github.com/PRUNERS/FLiT/pull/116), [#128](https://github.com/PRUNERS/FLiT/pull/128), [#130](https://github.com/PRUNERS/FLiT/pull/130), [#131](https://github.com/PRUNERS/FLiT/pull/131), [#132](https://github.com/PRUNERS/FLiT/pull/132), [#135](https://github.com/PRUNERS/FLiT/pull/135), [#139](https://github.com/PRUNERS/FLiT/pull/139), [#142](https://github.com/PRUNERS/FLiT/pull/142), [#145](https://github.com/PRUNERS/FLiT/pull/145), [#147](https://github.com/PRUNERS/FLiT/pull/147), [#150](https://github.com/PRUNERS/FLiT/pull/150), [#154](https://github.com/PRUNERS/FLiT/pull/154), [#155](https://github.com/PRUNERS/FLiT/pull/155), [#156](https://github.com/PRUNERS/FLiT/pull/156), [#157](https://github.com/PRUNERS/FLiT/pull/157), [#158](https://github.com/PRUNERS/FLiT/pull/158), [#159](https://github.com/PRUNERS/FLiT/pull/159), [#160](https://github.com/PRUNERS/FLiT/pull/160), [#161](https://github.com/PRUNERS/FLiT/pull/161), [#167](https://github.com/PRUNERS/FLiT/pull/167), [#170](https://github.com/PRUNERS/FLiT/pull/170), [#176](https://github.com/PRUNERS/FLiT/pull/176)

This includes the following features:

- Bisect
    - Fully implemented and supported - assigns variability blame to individual source files and functions
    - Works with Intel linker problems
    - Autodelete intermediate generated files to reduce disk usage from going out of control
    - Autorun all differences found in a given database file
    - Unfortunately, this functionality is not adequately documented (see issue [#136](https://github.com/PRUNERS/FLiT/pull/136))
- Add MPI support within `flit-config.toml`
- Add timing parameters to `flit-config.toml`
- Add `--info` flag to test executable to show how it was compiled
- Rename results and database columns to be more understandable
- Add `plot_timing_histogram.py` for auto-generating histogram plots and update `plot_timing.py`
- Add benchmarks: polybench and random - benchmark examples of FLiT usage
- Add `uninstall` target to the top-level `Makefile`
- Remove CUDA completely, it was broken and cumbering the space
- Remove old unused files. The repository is more lean with all files relevant
- License notices on files
- Fix support for GCC 4.8 (had a compiler error in FLiT)


## v2.0-alpha.3

_Released on 29 January 2018_

There was reported a bug in the installation making `flit import` not work. This has been fixed and a new alpha release is ready.


## v2.0-alpha.2

_Released on 27 January 2018_

Many fixes in this update:

- Remove `TestInput` and `CUTestInput` types, replace with arrays and `std::vector`
- Disable unfinished flit command-line commands
- Remove sections of the `flit-config.toml` settings file that are unused
- Fix incremental build
- Add `--version` argument to `flit`
- Recursive generated `Makefile` allows for more scalability with project size and number of tests
- Add some tests for FLiT's infrastructure - not comprehensive, but some automated tests
- Fix timing functionality
- Add a time plot


## v2.0-alpha.1

_Released on 25 September 2017_

Not everything for this new release is finished. The tool has been rearchitected to be easier to use within existing code bases. Many things have changed. Here are a few of them:

- A command-line tool called `flit` with subcommands
- Storage is into an SQLite database rather than Postgres (for simplicity and ease of installation)
- A configuration file, `flit-config.toml`, where you can specify your ground-truth compilation and your developer compilation.  Some of the values in this configuration file are not yet implemented to be used.
- An included `custom.mk` makefile to help you specify how to build your source files with the tests
- Turn FLiT into a shared library to be linked


## v.1.0.0

_Released on 25 March 2017_

This release provides litmus tests, a reproducibility test framework, and analysis tools for the results of the tests.


[Table of Contents](README.md)
|
[Next](installation.md)
